<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');
        var archive = [];

        (function displayTweet () {
          let tempStream = streams.home.reverse();
          streams.home = [];
          (function recursiveDisplay () {
            if(tempStream.length > 0) {
              let tweet = tempStream.pop();
              $tweet = $('<div>' + '<a href=\'#\' class=\'tweet ' + tweet.user +'\'>' + '@' + tweet.user + '</a>: ' + tweet.message + ' [' + tweet.created_at.formatted + ']' + '</div>').hide();
              $tweet.appendTo($body).show('fast', () => {
                archive.push(tweet);
                recursiveDisplay();
              });
            } else {
              setTimeout(displayTweet, 400)}
          }).call(this);
        }).call(this);





      });

    </script>
  </body>
</html>
